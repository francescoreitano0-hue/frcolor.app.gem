
<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FR COLOR PRO OFFICIAL</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

    <div id="login-screen" class="login-container">
        <div class="login-box">
            <img src="logo.png" alt="FR Color" class="login-logo">
            <h2>FR COLOR SYSTEM</h2>
            <input type="password" id="pass-input" placeholder="Password di Sistema">
            <button class="btn-main" onclick="checkLogin()">ACCEDI</button>
            <p id="login-err" class="err"></p>
        </div>
    </div>

    <div id="main-app" class="app-container" style="display:none;">
        <header class="header">
            <div class="h-top">
                <div style="display: flex; align-items: center; gap: 10px;">
                    <img src="logo.png" alt="Logo" style="height: 35px;">
                    <strong>FR COLOR PRO</strong>
                </div>
                <button onclick="location.reload()">Esci</button>
            </div>
            <div class="rainbow-line"></div>
        </header>

        <main class="dashboard">
            <div class="card" onclick="openMod('cantieri')">
                <h3>üìÅ Gestione Cantieri</h3>
                <p>Note, Materiali, Foto e Report PDF</p>
            </div>
            <div class="card" onclick="openMod('irina')">
                <h3>üëÅÔ∏è Spettrometro Irina HD</h3>
                <p>Analisi RAL Classic e Codici Schermo</p>
            </div>
            <div class="card" onclick="openMod('magazzino')">
                <h3>üì¶ Magazzino</h3>
                <p>Inventario Materiali e Attrezzature</p>
            </div>
        </main>

        <footer class="dock">
            <div onclick="window.open('https://wa.me/393290295847')">WA</div>
            <div onclick="window.open('mailto:info@frcolor.it')">Mail</div>
            <div class="icon-a">‚ôä</div>
            <div class="icon-a">ü§ñ</div>
            <div class="btn-x">X</div>
        </footer>
    </div>

    <div id="mod-cantieri" class="modal">
        <div class="modal-content">
            <div class="modal-h"><h2>CANTIERI</h2><button onclick="closeMod('cantieri')">‚úï</button></div>
            <input type="text" id="c-nome" placeholder="Nome nuovo cantiere...">
            <button class="btn-main" onclick="addCantiere()">CREA CARTELLA</button>
            <div id="c-list" class="list-area"></div>
        </div>
    </div>

    <div id="mod-irina" class="modal">
        <div class="modal-content">
            <div class="modal-h"><h2>IRINA SPETTROMETRO</h2><button onclick="closeMod('irina')">‚úï</button></div>
            <div class="cam-box">
                <video id="v" autoplay playsinline></video>
                <div class="crosshair"></div>
            </div>
            <div class="controls">
                <span>Zoom</span>
                <input type="range" min="1" max="5" step="0.1" value="1" oninput="applyZoom(this.value)">
            </div>
            <div class="results">
                <div id="color-preview" class="color-dot"></div>
                <div class="color-text">
                    <b id="out-ral">RAL: --</b><br>
                    <span id="out-hex">HEX: --</span><br>
                    <span id="out-rgb">RGB: --</span><br>
                    <small id="out-screen">Screen: --</small>
                </div>
            </div>
            <div class="btn-grid">
                <button class="btn-main" onclick="takeReading()">LEGGI COLORE</button>
                <label class="btn-sec">GALLERIA <input type="file" hidden accept="image/*" onchange="analyzeImg(this)"></label>
            </div>
        </div>
    </div>

    <div id="mod-magazzino" class="modal">
        <div class="modal-content">
            <div class="modal-h"><h2>MAGAZZINO</h2><button onclick="closeMod('magazzino')">‚úï</button></div>
            <div class="tabs">
                <button id="t-mat" class="active" onclick="setTab('mat')">Materiali</button>
                <button id="t-att" onclick="setTab('att')">Attrezzature</button>
            </div>
            <input type="text" id="m-nome" placeholder="Articolo...">
            <input type="number" id="m-qta" placeholder="Quantit√†">
            <div class="btn-grid-row">
                <button class="btn-in" onclick="updStock('IN')">CARICO +</button>
                <button class="btn-out" onclick="updStock('OUT')">SCARICO -</button>
            </div>
            <div id="m-list" class="list-area"></div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
