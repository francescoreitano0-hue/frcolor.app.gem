<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FR COLOR - Official App</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

    <div id="main-app" class="screen active">
        <header>
            <div class="logo-container">
                <img src="logo.png" alt="FR Color" class="logo-main">
            </div>
            <div class="header-actions">
                <button class="pill-btn" onclick="openMod('irina')">Irina</button>
                <button class="pill-btn" onclick="alert('Carla (AI) pronta')">Carla</button>
            </div>
        </header>

        <div class="main-container">
            <div class="app-card" onclick="openMod('cantieri')">
                <div class="card-text">
                    <h3>Gestione Cantieri</h3>
                    <p>Archivio Foto, Video e Documenti</p>
                </div>
                <div class="badge-status">ATTIVO</div>
            </div>

            <div class="app-card" onclick="openMod('irina')">
                <div class="card-text">
                    <h3>Spettrometro Irina</h3>
                    <p>Lettura RAL Ultra HD e % Colore</p>
                </div>
                <div class="badge-status">ATTIVO</div>
            </div>

            <div class="app-card" onclick="openMod('magazzino')">
                <div class="card-text">
                    <h3>Magazzino Inventario</h3>
                    <p>Materiali e Attrezzature</p>
                </div>
                <div class="badge-status">ATTIVO</div>
            </div>

            <div class="app-card disabled">
                <div class="card-text">
                    <h3>Archivio Tecnico</h3>
                    <p>Schede Tecniche PDF e Gmail</p>
                </div>
                <div class="badge-status badge-prox">PROX</div>
            </div>
        </div>

        <footer class="main-dock">
            <div class="dock-item" onclick="window.open('https://wa.me/39XXXXXXXXXX')">WhatsApp</div>
            <div class="dock-item" onclick="window.open('mailto:info@frcolor.it')">Gmail</div>
            <div class="dock-icon gemini-color" onclick="alert('Gemini Live')">â™Š</div>
            <div class="dock-icon gpt-color" onclick="alert('ChatGPT Assistant')">ðŸ¤–</div>
            <div class="dock-icon x-red" onclick="alert('App Tasto X')">X</div>
        </footer>
    </div>

    <div id="mod-cantieri" class="modal-overlay">
        <div class="modal-header">
            <button class="back-btn" onclick="closeMod('cantieri')">INDIETRO</button>
            <h2>ARCHIVIO CANTIERI</h2>
        </div>
        <div class="modal-content">
            <div class="input-group">
                <input type="text" id="c-nome" placeholder="Nome nuovo cantiere...">
                <button class="btn-create-folder" onclick="addCantiere()">CREA CARTELLA</button>
            </div>
            <div id="c-list" class="folder-grid">
                </div>
        </div>
    </div>

    <div id="mod-irina" class="modal-overlay">
        <div class="modal-header">
            <button class="back-btn" onclick="closeMod('irina')">CHIUDI</button>
            <h2>IRINA HD</h2>
        </div>
        <div class="camera-viewport">
            <video id="v" autoplay playsinline></video>
            <div class="camera-aim"></div>
        </div>
        <div class="camera-controls">
            <div class="zoom-box">
                <label>Zoom</label>
                <input type="range" min="1" max="5" step="0.1" value="1" oninput="applyZoom(this.value)">
            </div>
            <div id="analysis-display" class="analysis-box">
                <div id="color-prev" class="color-circle"></div>
                <div id="color-info">Inquadra una superficie...</div>
            </div>
            <button class="btn-scan" onclick="takeReading()">LEGGI COLORE RAL</button>
        </div>
    </div>

    <div id="mod-magazzino" class="modal-overlay">
        <div class="modal-header">
            <button class="back-btn" onclick="closeMod('magazzino')">INDIETRO</button>
            <h2>MAGAZZINO</h2>
        </div>
        <div class="tab-system">
            <button id="tab-mat" class="tab-btn active" onclick="switchTab('mat')">MATERIALI</button>
            <button id="tab-att" class="tab-btn" onclick="switchTab('att')">ATTREZZATURE</button>
        </div>
        <div class="modal-content">
            <div class="stock-form">
                <input type="text" id="m-nome" placeholder="Nome Articolo">
                <input type="number" id="m-qta" placeholder="QuantitÃ ">
                <div class="stock-btns">
                    <button class="btn-in" onclick="updateStock('IN')">ENTRATA (+)</button>
                    <button class="btn-out" onclick="updateStock('OUT')">USCITA (-)</button>
                </div>
            </div>
            <div id="m-list" class="stock-list"></div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
