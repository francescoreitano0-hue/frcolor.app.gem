<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FR COLOR OFFICIAL APP</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <div id="login-screen" class="screen active">
        <div class="login-card">
            <img src="logo.png" class="logo-main" alt="FR COLOR">
            <h2>ACCESSO RISERVATO</h2>
            <input type="password" id="pass" placeholder="Inserisci Password">
            <button onclick="checkLogin()" class="btn-primary">ENTRA</button>
        </div>
    </div>

    <div id="dashboard" class="screen">
        <header>
            <img src="logo.png" class="logo-nav">
            <div class="ai-hub">
                <button onclick="alert('Irina (Gemini) pronta')">IRINA</button>
                <button onclick="alert('Carla (ChatGPT) pronta')">CARLA</button>
            </div>
        </header>

        <div class="grid-main">
            <div class="card-main" onclick="openMod('irina')">üé® <span>Spettrometro Irina</span></div>
            <div class="card-main" onclick="openMod('cantieri')">üèóÔ∏è <span>Archivio Cantieri</span></div>
            <div class="card-main" onclick="openMod('magazzino')">üì¶ <span>Magazzino & Scorte</span></div>
            <div class="card-main" onclick="openMod('archivio')">üìÑ <span>Schede Tecniche</span></div>
        </div>

        <footer class="dock">
            <a href="https://wa.me/39XXXXXXXXXX">WhatsApp</a>
            <a href="mailto:info@frcolor.it">Gmail</a>
            <button onclick="alert('Gemini Active')">‚ôä</button>
            <button onclick="alert('GPT Active')">ü§ñ</button>
            <button class="x-btn" onclick="window.open('https://tastox.it')">X</button>
        </footer>
    </div>

    <div id="mod-irina" class="modal">
        <div class="modal-h"><button onclick="closeMod('irina')">CHIUDI</button><h3>IRINA HD</h3></div>
        <div class="view-port">
            <video id="v" autoplay playsinline></video>
            <img id="i-view" style="display:none;">
            <div id="target"></div>
        </div>
        <div class="zoom-box">
            <span>ZOOM</span>
            <input type="range" id="z-rng" min="1" max="5" step="0.1" value="1" oninput="applyZ(this.value)">
        </div>
        <div class="actions">
            <button onclick="takeSnap()" class="btn-primary">SCATTA FOTO</button>
            <label for="u-file" class="btn-sec">CARICA FOTO</label>
            <input type="file" id="u-file" hidden onchange="loadF(event)">
        </div>
        <div id="res-box">
            <div id="color-prev"></div>
            <div id="color-info">Punta o carica per i RAL</div>
        </div>
    </div>

    <div id="mod-cantieri" class="modal">
        <div class="modal-h"><button onclick="closeMod('cantieri')">X</button><h3>CANTIERI</h3></div>
        <div class="p-20">
            <input type="text" id="c-nome" placeholder="Nome Cantiere">
            <button onclick="addCantiere()" class="btn-primary">CREA CARTELLA</button>
            <div id="c-list" class="scroll-area"></div>
        </div>
    </div>

    <div id="mod-magazzino" class="modal">
        <div class="modal-h"><button onclick="closeMod('magazzino')">X</button><h3>INVENTARIO</h3></div>
        <div class="tabs">
            <button id="t-mat" class="active-tab" onclick="switchMag('mat')">MATERIALI</button>
            <button id="t-att" onclick="switchMag('att')">ATTREZZATURE</button>
        </div>
        <div class="p-20">
            <input type="text" id="m-nome" placeholder="Articolo">
            <input type="number" id="m-qta" placeholder="Quantit√†">
            <textarea id="m-note" placeholder="Note/Scadenze..."></textarea>
            <div class="actions">
                <button onclick="stockUpdate('IN')" class="btn-primary">ENTRATA (+)</button>
                <button onclick="stockUpdate('OUT')" class="btn-sec">USCITA (-)</button>
            </div>
            <div id="m-list" class="scroll-area"></div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
